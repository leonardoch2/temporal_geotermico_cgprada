<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.omg.org/bpmn20" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="__97DQMKYEe2Lq6_fSgBPtA" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_outputItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="_loginItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_passwordItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_tokenItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="_expirationItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_nroexpedienteItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_tokenValidItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_dependenciaItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_tipoDocumentalItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_incluirAnexosItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_incluirRadicadosItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_existeDocumentoItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_documentListItem" structureRef="co.gov.minenergia.jbpm.orfeo.OrfeoDocumentList"/>
  <bpmn2:itemDefinition id="_output2DataItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="_output2ResCodeItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_baseUrlItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_numeroDocumentoItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_tiempoEsperaItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_consultaDocumentoResponseItem" structureRef="co.gov.mineneriga.jbpm.orfeo.ConsultaDocumentoResponse"/>
  <bpmn2:itemDefinition id="_orfeoDocumentItem" structureRef="co.gov.minenergia.jbpm.orfeo.OrfeoDocument"/>
  <bpmn2:itemDefinition id="_consultaFlagItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_enviarAlertaFlagItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_contadorEsperaItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_contadorLimiteItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_tipoDocNombreItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_userEmailItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_notRecordatorioDocumentoItem" structureRef="co.gov.minenergia.jbpm.data.EmailNotification"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentDataInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HeadersInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_MethodInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_CookieInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AcceptCharsetInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AcceptHeaderInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AuthTypeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AuthUrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ConnectTimeoutInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeCharsetInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HandleResponseErrorsInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_PasswordInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ReadTimeoutInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultClassInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UsernameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultOutputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_StatusOutputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_AttachmentsInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_BccInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_BodyInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_CcInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_DebugInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_FromInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_Reply-ToInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_SubjectInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_TemplateInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__1C9F2010-9109-4060-A7D4-CCAF6B111792_ToInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentDataInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_MethodInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AcceptCharsetInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AcceptHeaderInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AuthTypeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AuthUrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ConnectTimeoutInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeCharsetInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_HandleResponseErrorsInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_HeadersInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_PasswordInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ReadTimeoutInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultClassInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UsernameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultOutputXItem" structureRef="String"/>
  <bpmn2:process id="orfeo.consulta_documento_expediente" drools:packageName="co.gov.minenergia.jpm.orfeo" drools:version="1.0" drools:adHoc="false" name="orfeo_consulta_documento_expediente" isExecutable="true" processType="Public">
    <bpmn2:extensionElements>
      <drools:import name="org.json.JSONObject"/>
      <drools:import name="org.json.JSONArray"/>
      <drools:import name="java.time.Instant"/>
      <drools:import name="java.util.List"/>
      <drools:import name="java.util.Iterator"/>
      <drools:import name="com.google.gson.Gson"/>
      <drools:import name="java.util.Comparator"/>
      <drools:import name="java.util.Collections"/>
      <drools:import name="java.text.SimpleDateFormat"/>
      <drools:import name="java.text.ParseException"/>
      <drools:import name="java.util.Date"/>
      <drools:import name="co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse"/>
      <drools:import name="co.gov.minenergia.jbpm.orfeo.OrfeoDocument"/>
      <drools:import name="co.gov.minenergia.jbpm.orfeo.OrfeoDocumentList"/>
      <drools:import name="co.gov.minenergia.jbpm.data.EmailNotification"/>
      <drools:import name="java.lang.reflect.Type"/>
      <drools:import name="java.util.Map"/>
      <drools:import name="com.google.gson.reflect.TypeToken"/>
      <drools:global identifier="orfeoBaseUrl" type="String"/>
      <drools:global identifier="orfeoJbpmUser" type="String"/>
      <drools:global identifier="orfeoJbpmPassword" type="Object"/>
      <drools:global identifier="gEsperaOrfeoLimite" type="String"/>
      <drools:global identifier="gTimerEsperaOrfeo" type="String"/>
    </bpmn2:extensionElements>
    <bpmn2:property id="output" itemSubjectRef="_outputItem" name="output">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="login" itemSubjectRef="_loginItem" name="login">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="password" itemSubjectRef="_passwordItem" name="password">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="token" itemSubjectRef="_tokenItem" name="token">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="expiration" itemSubjectRef="_expirationItem" name="expiration">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="nroexpediente" itemSubjectRef="_nroexpedienteItem" name="nroexpediente">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="tokenValid" itemSubjectRef="_tokenValidItem" name="tokenValid">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="dependencia" itemSubjectRef="_dependenciaItem" name="dependencia">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="tipoDocumental" itemSubjectRef="_tipoDocumentalItem" name="tipoDocumental">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="incluirAnexos" itemSubjectRef="_incluirAnexosItem" name="incluirAnexos">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="incluirRadicados" itemSubjectRef="_incluirRadicadosItem" name="incluirRadicados">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="existeDocumento" itemSubjectRef="_existeDocumentoItem" name="existeDocumento">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="documentList" itemSubjectRef="_documentListItem" name="documentList">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="output2Data" itemSubjectRef="_output2DataItem" name="output2Data">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="output2ResCode" itemSubjectRef="_output2ResCodeItem" name="output2ResCode">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="baseUrl" itemSubjectRef="_baseUrlItem" name="baseUrl">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="numeroDocumento" itemSubjectRef="_numeroDocumentoItem" name="numeroDocumento">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="tiempoEspera" itemSubjectRef="_tiempoEsperaItem" name="tiempoEspera">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="consultaDocumentoResponse" itemSubjectRef="_consultaDocumentoResponseItem" name="consultaDocumentoResponse">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="orfeoDocument" itemSubjectRef="_orfeoDocumentItem" name="orfeoDocument">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="consultaFlag" itemSubjectRef="_consultaFlagItem" name="consultaFlag">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="enviarAlertaFlag" itemSubjectRef="_enviarAlertaFlagItem" name="enviarAlertaFlag">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="contadorEspera" itemSubjectRef="_contadorEsperaItem" name="contadorEspera">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="contadorLimite" itemSubjectRef="_contadorLimiteItem" name="contadorLimite">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="tipoDocNombre" itemSubjectRef="_tipoDocNombreItem" name="tipoDocNombre">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="userEmail" itemSubjectRef="_userEmailItem" name="userEmail">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="notRecordatorioDocumento" itemSubjectRef="_notRecordatorioDocumentoItem" name="notRecordatorioDocumento"/>
    <bpmn2:sequenceFlow id="_69C43F66-9A1B-41DF-A48F-8C85265D24CA" sourceRef="_1FCFB141-1A38-4674-8041-DAE6F10CB132" targetRef="_16896F13-C509-4B1F-8C32-A30AE51623B0">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_39584797-DFA4-4F5E-9AE2-48C8A9356622" name="Unico" sourceRef="_E7A646A4-C155-47FF-A58E-DE6D6A085EBD" targetRef="_A39CDE0D-BBDE-4FF4-BF7E-3E65CFE9392D">
      <bpmn2:documentation id="__98RYMKYEe2Lq6_fSgBPtA"><![CDATA[Cuando se encuentra un solo documento]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Unico]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__98RYcKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[boolean result = false;

Boolean existe = (Boolean) kcontext.getVariable("existeDocumento");
co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse response = (co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse) kcontext.getVariable("consultaDocumentoResponse");

if (existe && response != null && response.getDocumentos().size() == 1) {
    result = true;
}

return result;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_D9058452-9D9E-4337-866E-67632DD43D80" sourceRef="_F19827B4-3027-407C-9748-7B82997CC616" targetRef="_1FCFB141-1A38-4674-8041-DAE6F10CB132"/>
    <bpmn2:sequenceFlow id="_EF7F2BCB-517F-4CC5-BA71-B570F15C9450" name="Varios" sourceRef="_E7A646A4-C155-47FF-A58E-DE6D6A085EBD" targetRef="_3DF74245-C929-4F7F-97BA-B8422177233C">
      <bpmn2:documentation id="__98RYsKYEe2Lq6_fSgBPtA"><![CDATA[Cuando se encuentran varios documentos del mismo tipo]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Varios]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984cMKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[boolean result = false;

Boolean existe = (Boolean) kcontext.getVariable("existeDocumento");
co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse response = (co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse) kcontext.getVariable("consultaDocumentoResponse");

if (existe && response != null && response.getDocumentos().size() > 1) {
    result = true;
}

return result;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_8E6B8D9E-D0A0-434F-981B-CA82436470BB" sourceRef="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE" targetRef="_93593817-D3D6-48F9-B062-B59C802715AA"/>
    <bpmn2:sequenceFlow id="_59C85C54-8803-422A-A354-C977EC65D5E4" sourceRef="_ED1C25EC-C6D6-41CB-A7E8-44DDA9F0D23C" targetRef="_93593817-D3D6-48F9-B062-B59C802715AA">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_888EA571-4C64-4F9D-9D6E-B2BA293A88EC" sourceRef="_1C9F2010-9109-4060-A7D4-CCAF6B111792" targetRef="_ED1C25EC-C6D6-41CB-A7E8-44DDA9F0D23C">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_AA48F45F-1583-4B19-9D49-EA3B8BDD7004" sourceRef="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA" targetRef="_E7A646A4-C155-47FF-A58E-DE6D6A085EBD">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.source">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_099BF8D1-9C99-4589-86B4-5D82D47F85DD" sourceRef="_93593817-D3D6-48F9-B062-B59C802715AA" targetRef="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA"/>
    <bpmn2:sequenceFlow id="_E4062EED-EC55-4E33-8476-C7AD6A885853" sourceRef="_5A96657D-AECD-4912-9E52-751114C4FDF5" targetRef="_354F51B2-3995-4433-B0B2-2EF67B17D1BE">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_99E8C1B1-5770-43BF-9DAA-300C24696F3A" sourceRef="_3CD9910C-CF3B-4AEF-AB08-F51EA9978199" targetRef="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE"/>
    <bpmn2:sequenceFlow id="_D4419464-49DA-4745-8328-CC6BB604D206" name="No" sourceRef="_16896F13-C509-4B1F-8C32-A30AE51623B0" targetRef="_3CD9910C-CF3B-4AEF-AB08-F51EA9978199">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[No]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984ccKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[String tok = (String) kcontext.getVariable("token");
return KieFunctions.isEmpty(tok);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_29C43B01-A501-4BB7-B239-BB775FAE731E" sourceRef="_A39CDE0D-BBDE-4FF4-BF7E-3E65CFE9392D" targetRef="_AA7CA6CD-46C3-413B-A09B-9493E177C534"/>
    <bpmn2:sequenceFlow id="_A51EB380-F0FF-408C-9851-7CC2E606B0B4" name="No" sourceRef="_BB60150A-B524-45C8-AEA3-E32322B96A60" targetRef="_3CD9910C-CF3B-4AEF-AB08-F51EA9978199">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[No]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984csKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[return KieFunctions.isFalse(tokenValid);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_59452036-2EA8-414C-8B94-C53483323374" name="Si" sourceRef="_BB60150A-B524-45C8-AEA3-E32322B96A60" targetRef="_93593817-D3D6-48F9-B062-B59C802715AA">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Si]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984c8KYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[return KieFunctions.isTrue(tokenValid);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_B135DE9B-6977-4A9C-B382-071B8EBDB196" name="No" sourceRef="_60C78ACF-B5FE-44F3-9D59-3EC266ED107D" targetRef="_93593817-D3D6-48F9-B062-B59C802715AA">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[No]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984dMKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[Boolean recordatorio = (Boolean) kcontext.getVariable("enviarAlertaFlag");
Integer cont = (Integer) kcontext.getVariable("contadorEspera");
Integer limite = (Integer) kcontext.getVariable("contadorLimite");

return !recordatorio || cont < limite;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_680B7335-8A50-456D-82B8-53B0E5D8FD36" name="Si" sourceRef="_60C78ACF-B5FE-44F3-9D59-3EC266ED107D" targetRef="_1C9F2010-9109-4060-A7D4-CCAF6B111792">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Si]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984dcKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[Boolean recordatorio = (Boolean) kcontext.getVariable("enviarAlertaFlag");
Integer cont = (Integer) kcontext.getVariable("contadorEspera");
Integer limite = (Integer) kcontext.getVariable("contadorLimite");

return recordatorio && cont >= limite;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_109932E1-4219-43E4-953D-9C0528F97C62" sourceRef="_354F51B2-3995-4433-B0B2-2EF67B17D1BE" targetRef="_60C78ACF-B5FE-44F3-9D59-3EC266ED107D">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.source">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_4376D701-706B-4A5A-9DB4-1F94C9B3A6AA" name="No" sourceRef="_DBC4F02C-D254-48E7-BB69-C8793B5ED77D" targetRef="_5A96657D-AECD-4912-9E52-751114C4FDF5">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[No]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984dsKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[return KieFunctions.isFalse(consultaFlag);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_76C4A500-48A3-4A20-9B92-46B0FF610237" name="Si" sourceRef="_DBC4F02C-D254-48E7-BB69-C8793B5ED77D" targetRef="_A1ED9FC1-AB69-47C6-AF0B-273BC2ADB1EB">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Si]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984d8KYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[return KieFunctions.isTrue(consultaFlag);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_757BBEEA-83BF-4FDB-9A24-E400FC991A99" name="No encontro" sourceRef="_E7A646A4-C155-47FF-A58E-DE6D6A085EBD" targetRef="_DBC4F02C-D254-48E7-BB69-C8793B5ED77D">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[No encontro]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984eMKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[return KieFunctions.isFalse(existeDocumento);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_F174CF17-7B14-49A0-AE98-44035D3B3BC1" sourceRef="_3DF74245-C929-4F7F-97BA-B8422177233C" targetRef="_0056CD9A-2489-44E5-B0B8-8CBDC0D1CB42"/>
    <bpmn2:sequenceFlow id="_ADE23ED9-ABF5-42DE-8369-417BFB70C30E" sourceRef="_1DC0616D-FAF3-48BD-89FD-C80B9FC061D9" targetRef="_BB60150A-B524-45C8-AEA3-E32322B96A60"/>
    <bpmn2:sequenceFlow id="_5CB56892-9F5B-4C1A-A195-39BEE2FD7E19" name="Si" sourceRef="_16896F13-C509-4B1F-8C32-A30AE51623B0" targetRef="_1DC0616D-FAF3-48BD-89FD-C80B9FC061D9">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.source">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Si]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="__984ecKYEe2Lq6_fSgBPtA" language="http://www.java.com/java"><![CDATA[String tok = (String) kcontext.getVariable("token");
return !KieFunctions.isEmpty(tok);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:task id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE" drools:taskName="Rest" name="Login">
      <bpmn2:documentation id="__984esKYEe2Lq6_fSgBPtA"><![CDATA[jbpm-workitems-rest/index.html]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Login]]></drools:metaValue>
        </drools:metaData>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[System.out.println("=== Ejecutando Login ===");
]]></drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[System.out.println("despues de ejecucion rest " + output);
String outputrest = (String) kcontext.getVariable("output");
org.json.JSONObject response = new JSONObject(outputrest);

kcontext.setVariable("token", response.getString("token"));
kcontext.setVariable("expiration",  response.getString("expires"));
System.out.println("-- Variables --");
System.out.println("token: " + kcontext.getVariable("token"));
System.out.println("expiration: " + kcontext.getVariable("expiration"));

]]></drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_99E8C1B1-5770-43BF-9DAA-300C24696F3A</bpmn2:incoming>
      <bpmn2:outgoing>_8E6B8D9E-D0A0-434F-981B-CA82436470BB</bpmn2:outgoing>
      <bpmn2:ioSpecification id="__984e8KYEe2Lq6_fSgBPtA">
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentDataInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentDataInputXItem" name="ContentData"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeInputXItem" name="ContentType"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_MethodInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_MethodInputXItem" name="Method"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UrlInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UrlInputXItem" name="Url"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AcceptCharsetInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AcceptCharsetInputXItem" name="AcceptCharset"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AcceptHeaderInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AcceptHeaderInputXItem" name="AcceptHeader"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AuthTypeInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AuthTypeInputXItem" name="AuthType"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AuthUrlInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AuthUrlInputXItem" name="AuthUrl"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ConnectTimeoutInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ConnectTimeoutInputXItem" name="ConnectTimeout"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeCharsetInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeCharsetInputXItem" name="ContentTypeCharset"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_HandleResponseErrorsInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_HandleResponseErrorsInputXItem" name="HandleResponseErrors"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_HeadersInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_HeadersInputXItem" name="Headers"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_PasswordInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_PasswordInputXItem" name="Password"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ReadTimeoutInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ReadTimeoutInputXItem" name="ReadTimeout"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultClassInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultClassInputXItem" name="ResultClass"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UsernameInputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UsernameInputXItem" name="Username"/>
        <bpmn2:dataInput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultOutputX" drools:dtype="String" itemSubjectRef="__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultOutputXItem" name="Result"/>
        <bpmn2:inputSet id="__984fMKYEe2Lq6_fSgBPtA">
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentDataInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_MethodInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AcceptCharsetInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AcceptHeaderInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AuthTypeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_AuthUrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ConnectTimeoutInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeCharsetInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_HandleResponseErrorsInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_HeadersInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_PasswordInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ReadTimeoutInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultClassInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UsernameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="__984fcKYEe2Lq6_fSgBPtA">
          <bpmn2:dataOutputRefs>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="__984fsKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentDataInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__984f8KYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__984gMKYEe2Lq6_fSgBPtA"><![CDATA[login=#{login}&password=#{password}]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__984gcKYEe2Lq6_fSgBPtA">_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentDataInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__984gsKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__984g8KYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__984hMKYEe2Lq6_fSgBPtA"><![CDATA[application/x-www-form-urlencoded]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__984hcKYEe2Lq6_fSgBPtA">_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ContentTypeInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__984hsKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_MethodInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__99fgMKYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__99fgcKYEe2Lq6_fSgBPtA"><![CDATA[POST]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__99fgsKYEe2Lq6_fSgBPtA">_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_MethodInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__99fg8KYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UrlInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__99fhMKYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__99fhcKYEe2Lq6_fSgBPtA"><![CDATA[#{baseUrl}/auth/]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__99fhsKYEe2Lq6_fSgBPtA">_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_UrlInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__99fh8KYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__99fiMKYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__99ficKYEe2Lq6_fSgBPtA"><![CDATA[Rest]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__99fisKYEe2Lq6_fSgBPtA">_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_TaskNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="__99fi8KYEe2Lq6_fSgBPtA">
        <bpmn2:sourceRef>_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_ResultOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>output</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:exclusiveGateway id="_16896F13-C509-4B1F-8C32-A30AE51623B0" drools:dg="_5CB56892-9F5B-4C1A-A195-39BEE2FD7E19" name="Se recibio token?" gatewayDirection="Diverging" default="_5CB56892-9F5B-4C1A-A195-39BEE2FD7E19">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Se recibio token?]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_69C43F66-9A1B-41DF-A48F-8C85265D24CA</bpmn2:incoming>
      <bpmn2:outgoing>_5CB56892-9F5B-4C1A-A195-39BEE2FD7E19</bpmn2:outgoing>
      <bpmn2:outgoing>_D4419464-49DA-4745-8328-CC6BB604D206</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:endEvent id="_A1ED9FC1-AB69-47C6-AF0B-273BC2ADB1EB" name="Fin-No Existe">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Fin-No Existe]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_76C4A500-48A3-4A20-9B92-46B0FF610237</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:task id="_1C9F2010-9109-4060-A7D4-CCAF6B111792" drools:taskName="Email" name="Enviar Recordatorio">
      <bpmn2:documentation id="__99fjMKYEe2Lq6_fSgBPtA"><![CDATA[jbpm-workitems-email/index.html]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Enviar Recordatorio]]></drools:metaValue>
        </drools:metaData>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[String notKey = "notRecordatorioDocumento";
String notConfig = (String) kcontext.getVariable("gNotificationConfig");
Gson gson = new Gson();

//Get Notification Configuration Map
Type notConfigMapType = new TypeToken<Map<String, co.gov.minenergia.jbpm.data.EmailNotification>>(){}.getType(); 
Map<String, co.gov.minenergia.jbpm.data.EmailNotification> notConfigMap = gson.fromJson(notConfig, notConfigMapType);
co.gov.minenergia.jbpm.data.EmailNotification myNotification = null;

if (notConfigMap != null ){
   myNotification = notConfigMap.get(notKey);
}

String email = (String) kcontext.getVariable("userEmail");

if( myNotification != null && email != null ) {
    
    System.out.println("email: " + email);
    myNotification.setTo(email);
    kcontext.setVariable(notKey, myNotification);
    System.out.println(notKey + ":" + myNotification.toString());
    
}else {
    throw new Exception("ERROR cargando configuracion de la notificacion " + notKey);
}
]]></drools:script>
        </drools:onEntry-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_680B7335-8A50-456D-82B8-53B0E5D8FD36</bpmn2:incoming>
      <bpmn2:outgoing>_888EA571-4C64-4F9D-9D6E-B2BA293A88EC</bpmn2:outgoing>
      <bpmn2:ioSpecification id="__99fjcKYEe2Lq6_fSgBPtA">
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_AttachmentsInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_AttachmentsInputXItem" name="Attachments"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_BccInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_BccInputXItem" name="Bcc"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_BodyInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_BodyInputXItem" name="Body"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_CcInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_CcInputXItem" name="Cc"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_DebugInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_DebugInputXItem" name="Debug"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_FromInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_FromInputXItem" name="From"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_Reply-ToInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_Reply-ToInputXItem" name="Reply-To"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_SubjectInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_SubjectInputXItem" name="Subject"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_TemplateInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_TemplateInputXItem" name="Template"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_ToInputX" drools:dtype="String" itemSubjectRef="__1C9F2010-9109-4060-A7D4-CCAF6B111792_ToInputXItem" name="To"/>
        <bpmn2:dataInput id="_1C9F2010-9109-4060-A7D4-CCAF6B111792_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:inputSet id="__99fjsKYEe2Lq6_fSgBPtA">
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_AttachmentsInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_BccInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_BodyInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_CcInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_DebugInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_FromInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_Reply-ToInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_SubjectInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_TemplateInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_ToInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_1C9F2010-9109-4060-A7D4-CCAF6B111792_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="__99fj8KYEe2Lq6_fSgBPtA"/>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="__99fkMKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_1C9F2010-9109-4060-A7D4-CCAF6B111792_BodyInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__99fkcKYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__99fksKYEe2Lq6_fSgBPtA"><![CDATA[#{notRecordatorioDocumento.body}]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__99fk8KYEe2Lq6_fSgBPtA">_1C9F2010-9109-4060-A7D4-CCAF6B111792_BodyInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__99flMKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_1C9F2010-9109-4060-A7D4-CCAF6B111792_FromInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__99flcKYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__99flsKYEe2Lq6_fSgBPtA"><![CDATA[#{notRecordatorioDocumento.from}]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__99fl8KYEe2Lq6_fSgBPtA">_1C9F2010-9109-4060-A7D4-CCAF6B111792_FromInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__99fmMKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_1C9F2010-9109-4060-A7D4-CCAF6B111792_SubjectInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__99fmcKYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__99fmsKYEe2Lq6_fSgBPtA"><![CDATA[#{notRecordatorioDocumento.subject}]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__99fm8KYEe2Lq6_fSgBPtA">_1C9F2010-9109-4060-A7D4-CCAF6B111792_SubjectInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__99fnMKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_1C9F2010-9109-4060-A7D4-CCAF6B111792_ToInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__99fncKYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__99fnsKYEe2Lq6_fSgBPtA"><![CDATA[#{notRecordatorioDocumento.to}]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__99fn8KYEe2Lq6_fSgBPtA">_1C9F2010-9109-4060-A7D4-CCAF6B111792_ToInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__99foMKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_1C9F2010-9109-4060-A7D4-CCAF6B111792_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__99focKYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__99fosKYEe2Lq6_fSgBPtA"><![CDATA[Email]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__99fo8KYEe2Lq6_fSgBPtA">_1C9F2010-9109-4060-A7D4-CCAF6B111792_TaskNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
    </bpmn2:task>
    <bpmn2:scriptTask id="_1FCFB141-1A38-4674-8041-DAE6F10CB132" name="Set Local from Global" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Set Local from Global]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_D9058452-9D9E-4337-866E-67632DD43D80</bpmn2:incoming>
      <bpmn2:outgoing>_69C43F66-9A1B-41DF-A48F-8C85265D24CA</bpmn2:outgoing>
      <bpmn2:script><![CDATA[System.out.println("- Seteando variables locales de globales --");

kcontext.setVariable("baseUrl", context.getVariable("orfeoBaseUrl"));
kcontext.setVariable("login", context.getVariable("orfeoJbpmUser"));
kcontext.setVariable("password", context.getVariable("orfeoJbpmPassword"));
kcontext.setVariable("tiempoEspera", context.getVariable("gTimerEsperaOrfeo"));

System.out.println("baseUrl: " + kcontext.getVariable("baseUrl"));
System.out.println("login: " + kcontext.getVariable("login"));
System.out.println("password: " + kcontext.getVariable("password"));
System.out.println("tiempoEspera: " + kcontext.getVariable("tiempoEspera"));

Integer cont = new Integer(0);
kcontext.setVariable("contadorEspera", cont);

String limite = (String) kcontext.getVariable("gEsperaOrfeoLimite");
Integer esperaLimite = new Integer(limite);
kcontext.setVariable("contadorLimite", esperaLimite);

]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="_E7A646A4-C155-47FF-A58E-DE6D6A085EBD" drools:dg="_39584797-DFA4-4F5E-9AE2-48C8A9356622" name="Validacion documentos?" gatewayDirection="Diverging" default="_39584797-DFA4-4F5E-9AE2-48C8A9356622">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Validacion documentos?]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_AA48F45F-1583-4B19-9D49-EA3B8BDD7004</bpmn2:incoming>
      <bpmn2:outgoing>_757BBEEA-83BF-4FDB-9A24-E400FC991A99</bpmn2:outgoing>
      <bpmn2:outgoing>_EF7F2BCB-517F-4CC5-BA71-B570F15C9450</bpmn2:outgoing>
      <bpmn2:outgoing>_39584797-DFA4-4F5E-9AE2-48C8A9356622</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:scriptTask id="_A39CDE0D-BBDE-4FF4-BF7E-3E65CFE9392D" name="Asignar Documento" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Asignar Documento]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_39584797-DFA4-4F5E-9AE2-48C8A9356622</bpmn2:incoming>
      <bpmn2:outgoing>_29C43B01-A501-4BB7-B239-BB775FAE731E</bpmn2:outgoing>
      <bpmn2:script><![CDATA[//Obteniendo la data del unico documento encontrado
System.out.println("-- Obteniendo la data del documento encontrado");
co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse response = (co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse) kcontext.getVariable("consultaDocumentoResponse");
co.gov.minenergia.jbpm.orfeo.OrfeoDocument orfeoDoc = response.getDocumentos().get(0);
String numDoc = "";

if(orfeoDoc!= null) {
    numDoc = orfeoDoc.getNUMERO();
}
System.out.println("numeroDocumento: " + numDoc);
kcontext.setVariable("numeroDocumento", numDoc);
kcontext.setVariable("orfeoDocument", orfeoDoc);
]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:intermediateCatchEvent id="_5A96657D-AECD-4912-9E52-751114C4FDF5" name="Espera Consulta">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Espera Consulta]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_4376D701-706B-4A5A-9DB4-1F94C9B3A6AA</bpmn2:incoming>
      <bpmn2:outgoing>_E4062EED-EC55-4E33-8476-C7AD6A885853</bpmn2:outgoing>
      <bpmn2:timerEventDefinition id="__99fpMKYEe2Lq6_fSgBPtA">
        <bpmn2:timeDuration xsi:type="bpmn2:tFormalExpression" id="__99fpcKYEe2Lq6_fSgBPtA">#{tiempoEspera}</bpmn2:timeDuration>
      </bpmn2:timerEventDefinition>
    </bpmn2:intermediateCatchEvent>
    <bpmn2:startEvent id="_F19827B4-3027-407C-9748-7B82997CC616">
      <bpmn2:outgoing>_D9058452-9D9E-4337-866E-67632DD43D80</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:scriptTask id="_3DF74245-C929-4F7F-97BA-B8422177233C" name="Seleccionar Documento" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Seleccionar Documento]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_EF7F2BCB-517F-4CC5-BA71-B570F15C9450</bpmn2:incoming>
      <bpmn2:outgoing>_F174CF17-7B14-49A0-AE98-44035D3B3BC1</bpmn2:outgoing>
      <bpmn2:script><![CDATA[//Seleccionar el documento mas reciente.
System.out.println("-- Seleccionando el documento mas reciente de la lista");

Comparator<co.gov.minenergia.jbpm.orfeo.OrfeoDocument> compareByFecha = new Comparator<co.gov.minenergia.jbpm.orfeo.OrfeoDocument>() {
			
			@Override
			public int compare(co.gov.minenergia.jbpm.orfeo.OrfeoDocument o1, co.gov.minenergia.jbpm.orfeo.OrfeoDocument o2) {
				
				Date fechaO1 = null;
				Date fechaO2 = null;
				String patron = "yyyy-MM-dd HH:mm:ss";
				SimpleDateFormat format = new SimpleDateFormat(patron);
				
				try {
					
					fechaO1 = format.parse(o1.getFECHA());
					fechaO2 = format.parse(o2.getFECHA());
					
				} catch (ParseException e) {
					
					e.printStackTrace();
				}
				
				
				return fechaO1.compareTo(fechaO2);
			}
};

co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse response = (co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse) kcontext.getVariable("consultaDocumentoResponse");
Collections.sort(response.getDocumentos(), compareByFecha.reversed());
co.gov.minenergia.jbpm.orfeo.OrfeoDocument orfeoDoc = response.getDocumentos().get(0);
String numDoc = "";
if(orfeoDoc!= null) {
    numDoc = orfeoDoc.getNUMERO();
}
System.out.println("numeroDocumento: " + numDoc);
kcontext.setVariable("numeroDocumento", numDoc);
kcontext.setVariable("orfeoDocument", orfeoDoc);]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="_93593817-D3D6-48F9-B062-B59C802715AA" gatewayDirection="Converging">
      <bpmn2:incoming>_B135DE9B-6977-4A9C-B382-071B8EBDB196</bpmn2:incoming>
      <bpmn2:incoming>_59452036-2EA8-414C-8B94-C53483323374</bpmn2:incoming>
      <bpmn2:incoming>_59C85C54-8803-422A-A354-C977EC65D5E4</bpmn2:incoming>
      <bpmn2:incoming>_8E6B8D9E-D0A0-434F-981B-CA82436470BB</bpmn2:incoming>
      <bpmn2:outgoing>_099BF8D1-9C99-4589-86B4-5D82D47F85DD</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:scriptTask id="_ED1C25EC-C6D6-41CB-A7E8-44DDA9F0D23C" name="Reiniciar Contador" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Reiniciar Contador]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_888EA571-4C64-4F9D-9D6E-B2BA293A88EC</bpmn2:incoming>
      <bpmn2:outgoing>_59C85C54-8803-422A-A354-C977EC65D5E4</bpmn2:outgoing>
      <bpmn2:script><![CDATA[Integer cont = new Integer(0);
kcontext.setVariable("contadorEspera", cont);]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:task id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA" drools:taskName="Rest" name="Consultar Documento Expediente">
      <bpmn2:documentation id="__99fpsKYEe2Lq6_fSgBPtA"><![CDATA[jbpm-workitems-rest/index.html]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Consultar Documento Expediente]]></drools:metaValue>
        </drools:metaData>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[System.out.println("== Consultar documento: [" + tipoDocumental + "] en expediente [" + nroexpediente + "] ===");
String tk = (String) kcontext.getVariable("token");
String tipoDoc = (String) kcontext.getVariable("tipoDocumental");
String depe = (String) kcontext.getVariable("dependencia");
Boolean incAnexos = (Boolean) kcontext.getVariable("incluirAnexos");
Boolean incRadi = (Boolean) kcontext.getVariable("incluirRadicados");

System.out.println("token: " + tk);
System.out.println("tipoDoc: " + tipoDoc);
System.out.println("depe: " + depe);
System.out.println("incluirAnexos: " + incluirAnexos);
System.out.println("incAnexos: " + incAnexos.booleanValue());
System.out.println("incluirRadicados: " + incluirRadicados);
System.out.println("incRadi: " + incRadi.booleanValue());
]]></drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[//Setting output variables
Integer outputResCode = null;
String outputData = null;

if (kcontext.getVariable("output2ResCode") != null) {
    outputResCode = (Integer) kcontext.getVariable("output2ResCode");
    System.out.println("- ResponseCode: " + outputResCode.intValue());
}

if (outputResCode != null && outputResCode == 200) {

    if (kcontext.getVariable("output2Data") != null) {
        outputData = (String) kcontext.getVariable("output2Data");
        Gson gson = new Gson();
        co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse response = gson.fromJson(outputData, co.gov.minenergia.jbpm.orfeo.ConsultaDocumentoResponse.class);

        if(response != null ){

            System.out.println("response: " + response.toString());
            kcontext.setVariable("consultaDocumentoResponse", response);
             if (response.getDocumentos() != null && response.getDocumentos().size() > 0) {
                //seteamos variables de salida
                kcontext.setVariable("existeDocumento", true);
                
                OrfeoDocumentList listDocs = new OrfeoDocumentList();
                listDocs.setDocumentos(response.getDocumentos());
                
                kcontext.setVariable("documentList", listDocs);   

              }
              else {
                   kcontext.setVariable("existeDocumento", false);
              }
        }
    }
}
else {

    kcontext.setVariable("existeDocumento", false);
}
]]></drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_099BF8D1-9C99-4589-86B4-5D82D47F85DD</bpmn2:incoming>
      <bpmn2:outgoing>_AA48F45F-1583-4B19-9D49-EA3B8BDD7004</bpmn2:outgoing>
      <bpmn2:ioSpecification id="__99fp8KYEe2Lq6_fSgBPtA">
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentDataInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentDataInputXItem" name="ContentData"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeInputXItem" name="ContentType"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HeadersInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HeadersInputXItem" name="Headers"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_MethodInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_MethodInputXItem" name="Method"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UrlInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UrlInputXItem" name="Url"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_CookieInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_CookieInputXItem" name="Cookie"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AcceptCharsetInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AcceptCharsetInputXItem" name="AcceptCharset"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AcceptHeaderInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AcceptHeaderInputXItem" name="AcceptHeader"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AuthTypeInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AuthTypeInputXItem" name="AuthType"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AuthUrlInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AuthUrlInputXItem" name="AuthUrl"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ConnectTimeoutInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ConnectTimeoutInputXItem" name="ConnectTimeout"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeCharsetInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeCharsetInputXItem" name="ContentTypeCharset"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HandleResponseErrorsInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HandleResponseErrorsInputXItem" name="HandleResponseErrors"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_PasswordInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_PasswordInputXItem" name="Password"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ReadTimeoutInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ReadTimeoutInputXItem" name="ReadTimeout"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultClassInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultClassInputXItem" name="ResultClass"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UsernameInputX" drools:dtype="String" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UsernameInputXItem" name="Username"/>
        <bpmn2:dataInput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultOutputX" drools:dtype="Object" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultOutputXItem" name="Result"/>
        <bpmn2:dataOutput id="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_StatusOutputX" drools:dtype="Integer" itemSubjectRef="__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_StatusOutputXItem" name="Status"/>
        <bpmn2:inputSet id="__9-GkMKYEe2Lq6_fSgBPtA">
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentDataInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HeadersInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_MethodInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_CookieInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AcceptCharsetInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AcceptHeaderInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AuthTypeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_AuthUrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ConnectTimeoutInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeCharsetInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HandleResponseErrorsInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_PasswordInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ReadTimeoutInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultClassInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UsernameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="__9-GkcKYEe2Lq6_fSgBPtA">
          <bpmn2:dataOutputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_StatusOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="__9-GksKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentDataInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__9-Gk8KYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__9-GlMKYEe2Lq6_fSgBPtA"><![CDATA[nroExpediente=#{nroexpediente}&codDepe=#{dependencia}&tipoDocto=#{tipoDocumental}&incluirAnexos=#{incluirAnexos}&incluirRadicados=#{incluirRadicados}]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__9-GlcKYEe2Lq6_fSgBPtA">_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentDataInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__9-GlsKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__9-Gl8KYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__9-GmMKYEe2Lq6_fSgBPtA"><![CDATA[application/x-www-form-urlencoded]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__9-GmcKYEe2Lq6_fSgBPtA">_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ContentTypeInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__9-GmsKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HeadersInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__9-Gm8KYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__9-GnMKYEe2Lq6_fSgBPtA"><![CDATA[Content-Type=application/x-www-form-urlencoded;Authorization=Bearer #{token}]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__9-GncKYEe2Lq6_fSgBPtA">_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_HeadersInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__9-GnsKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_MethodInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__9-Gn8KYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__9-GoMKYEe2Lq6_fSgBPtA"><![CDATA[POST]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__9-GocKYEe2Lq6_fSgBPtA">_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_MethodInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__9-GosKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UrlInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__9-Go8KYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__9-GpMKYEe2Lq6_fSgBPtA"><![CDATA[#{baseUrl}/consdoctoexptejbpm]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__9-GpcKYEe2Lq6_fSgBPtA">_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_UrlInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="__9-GpsKYEe2Lq6_fSgBPtA">
        <bpmn2:targetRef>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="__9-Gp8KYEe2Lq6_fSgBPtA">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="__9-GqMKYEe2Lq6_fSgBPtA"><![CDATA[Rest]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="__9-GqcKYEe2Lq6_fSgBPtA">_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_TaskNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="__9-GqsKYEe2Lq6_fSgBPtA">
        <bpmn2:sourceRef>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_ResultOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>output2Data</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation id="__9-Gq8KYEe2Lq6_fSgBPtA">
        <bpmn2:sourceRef>_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_StatusOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>output2ResCode</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:scriptTask id="_354F51B2-3995-4433-B0B2-2EF67B17D1BE" name="Aumentar Contador" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Aumentar Contador]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_E4062EED-EC55-4E33-8476-C7AD6A885853</bpmn2:incoming>
      <bpmn2:outgoing>_109932E1-4219-43E4-953D-9C0528F97C62</bpmn2:outgoing>
      <bpmn2:script><![CDATA[Integer cont = (Integer) kcontext.getVariable("contadorEspera");
cont = cont + 1;
kcontext.setVariable("contadorEspera", cont);]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="_3CD9910C-CF3B-4AEF-AB08-F51EA9978199" name="Exclusive Login" gatewayDirection="Converging">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Exclusive Login]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_A51EB380-F0FF-408C-9851-7CC2E606B0B4</bpmn2:incoming>
      <bpmn2:incoming>_D4419464-49DA-4745-8328-CC6BB604D206</bpmn2:incoming>
      <bpmn2:outgoing>_99E8C1B1-5770-43BF-9DAA-300C24696F3A</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:endEvent id="_AA7CA6CD-46C3-413B-A09B-9493E177C534" name="Fin - Documento Unico">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Fin - Documento Unico]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_29C43B01-A501-4BB7-B239-BB775FAE731E</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:exclusiveGateway id="_BB60150A-B524-45C8-AEA3-E32322B96A60" drools:dg="_A51EB380-F0FF-408C-9851-7CC2E606B0B4" name="Token valido?" gatewayDirection="Diverging" default="_A51EB380-F0FF-408C-9851-7CC2E606B0B4">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Token valido?]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_ADE23ED9-ABF5-42DE-8369-417BFB70C30E</bpmn2:incoming>
      <bpmn2:outgoing>_59452036-2EA8-414C-8B94-C53483323374</bpmn2:outgoing>
      <bpmn2:outgoing>_A51EB380-F0FF-408C-9851-7CC2E606B0B4</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:exclusiveGateway id="_60C78ACF-B5FE-44F3-9D59-3EC266ED107D" drools:dg="_B135DE9B-6977-4A9C-B382-071B8EBDB196" name="Enviar Recordatorio?" gatewayDirection="Diverging" default="_B135DE9B-6977-4A9C-B382-071B8EBDB196">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Enviar Recordatorio?]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_109932E1-4219-43E4-953D-9C0528F97C62</bpmn2:incoming>
      <bpmn2:outgoing>_680B7335-8A50-456D-82B8-53B0E5D8FD36</bpmn2:outgoing>
      <bpmn2:outgoing>_B135DE9B-6977-4A9C-B382-071B8EBDB196</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:exclusiveGateway id="_DBC4F02C-D254-48E7-BB69-C8793B5ED77D" drools:dg="_4376D701-706B-4A5A-9DB4-1F94C9B3A6AA" name="Es solo consulta?" gatewayDirection="Diverging" default="_4376D701-706B-4A5A-9DB4-1F94C9B3A6AA">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Es solo consulta?]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_757BBEEA-83BF-4FDB-9A24-E400FC991A99</bpmn2:incoming>
      <bpmn2:outgoing>_76C4A500-48A3-4A20-9B92-46B0FF610237</bpmn2:outgoing>
      <bpmn2:outgoing>_4376D701-706B-4A5A-9DB4-1F94C9B3A6AA</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:endEvent id="_0056CD9A-2489-44E5-B0B8-8CBDC0D1CB42" name="Fin - Documento Seleccionado">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Fin - Documento Seleccionado]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_F174CF17-7B14-49A0-AE98-44035D3B3BC1</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:scriptTask id="_1DC0616D-FAF3-48BD-89FD-C80B9FC061D9" name="Validar expiration token" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Validar expiration token]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_5CB56892-9F5B-4C1A-A195-39BEE2FD7E19</bpmn2:incoming>
      <bpmn2:outgoing>_ADE23ED9-ABF5-42DE-8369-417BFB70C30E</bpmn2:outgoing>
      <bpmn2:script><![CDATA[String expirationTimeStamp = (String) kcontext.getVariable("expiration");
Instant now = Instant.now();
Instant timestamp = Instant.ofEpochMilli(Long.valueOf(expirationTimeStamp));
if (now.isBefore(timestamp)) {
    System.out.println("Token is valid!");
    kcontext.setVariable("tokenValid", true);
}
else {
    System.out.println("Token is NOT valid!");
    kcontext.setVariable("tokenValid", false);
}
]]></bpmn2:script>
    </bpmn2:scriptTask>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="__9-GrMKYEe2Lq6_fSgBPtA">
    <bpmndi:BPMNPlane id="__9-GrcKYEe2Lq6_fSgBPtA" bpmnElement="orfeo.consulta_documento_expediente">
      <bpmndi:BPMNShape id="shape__1DC0616D-FAF3-48BD-89FD-C80B9FC061D9" bpmnElement="_1DC0616D-FAF3-48BD-89FD-C80B9FC061D9">
        <dc:Bounds height="102.0" width="154.0" x="415.0" y="32.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__0056CD9A-2489-44E5-B0B8-8CBDC0D1CB42" bpmnElement="_0056CD9A-2489-44E5-B0B8-8CBDC0D1CB42">
        <dc:Bounds height="56.0" width="56.0" x="2105.0" y="55.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__DBC4F02C-D254-48E7-BB69-C8793B5ED77D" bpmnElement="_DBC4F02C-D254-48E7-BB69-C8793B5ED77D">
        <dc:Bounds height="56.0" width="56.0" x="1714.0" y="409.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__60C78ACF-B5FE-44F3-9D59-3EC266ED107D" bpmnElement="_60C78ACF-B5FE-44F3-9D59-3EC266ED107D">
        <dc:Bounds height="56.0" width="56.0" x="1179.0" y="409.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__BB60150A-B524-45C8-AEA3-E32322B96A60" bpmnElement="_BB60150A-B524-45C8-AEA3-E32322B96A60">
        <dc:Bounds height="56.0" width="56.0" x="645.0" y="55.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__AA7CA6CD-46C3-413B-A09B-9493E177C534" bpmnElement="_AA7CA6CD-46C3-413B-A09B-9493E177C534">
        <dc:Bounds height="56.0" width="56.0" x="2266.0" y="361.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__3CD9910C-CF3B-4AEF-AB08-F51EA9978199" bpmnElement="_3CD9910C-CF3B-4AEF-AB08-F51EA9978199">
        <dc:Bounds height="56.0" width="56.0" x="645.0" y="361.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__354F51B2-3995-4433-B0B2-2EF67B17D1BE" bpmnElement="_354F51B2-3995-4433-B0B2-2EF67B17D1BE">
        <dc:Bounds height="102.0" width="154.0" x="1372.0" y="386.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA" bpmnElement="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA">
        <dc:Bounds height="102.0" width="154.0" x="1198.0" y="178.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__ED1C25EC-C6D6-41CB-A7E8-44DDA9F0D23C" bpmnElement="_ED1C25EC-C6D6-41CB-A7E8-44DDA9F0D23C">
        <dc:Bounds height="102.0" width="154.0" x="1130.0" y="740.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__93593817-D3D6-48F9-B062-B59C802715AA" bpmnElement="_93593817-D3D6-48F9-B062-B59C802715AA">
        <dc:Bounds height="56.0" width="56.0" x="1027.0" y="201.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__3DF74245-C929-4F7F-97BA-B8422177233C" bpmnElement="_3DF74245-C929-4F7F-97BA-B8422177233C">
        <dc:Bounds height="102.0" width="154.0" x="1815.0" y="32.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__F19827B4-3027-407C-9748-7B82997CC616" bpmnElement="_F19827B4-3027-407C-9748-7B82997CC616">
        <dc:Bounds height="56.0" width="56.0" x="58.0" y="224.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__5A96657D-AECD-4912-9E52-751114C4FDF5" bpmnElement="_5A96657D-AECD-4912-9E52-751114C4FDF5">
        <dc:Bounds height="56.0" width="56.0" x="1580.0" y="409.1026"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__A39CDE0D-BBDE-4FF4-BF7E-3E65CFE9392D" bpmnElement="_A39CDE0D-BBDE-4FF4-BF7E-3E65CFE9392D">
        <dc:Bounds height="102.0" width="154.0" x="1996.0" y="338.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__E7A646A4-C155-47FF-A58E-DE6D6A085EBD" bpmnElement="_E7A646A4-C155-47FF-A58E-DE6D6A085EBD">
        <dc:Bounds height="56.0" width="56.0" x="1714.0" y="201.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__1FCFB141-1A38-4674-8041-DAE6F10CB132" bpmnElement="_1FCFB141-1A38-4674-8041-DAE6F10CB132">
        <dc:Bounds height="102.0" width="154.0" x="207.0" y="201.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__1C9F2010-9109-4060-A7D4-CCAF6B111792" bpmnElement="_1C9F2010-9109-4060-A7D4-CCAF6B111792">
        <dc:Bounds height="102.0" width="154.0" x="1131.0" y="563.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__A1ED9FC1-AB69-47C6-AF0B-273BC2ADB1EB" bpmnElement="_A1ED9FC1-AB69-47C6-AF0B-273BC2ADB1EB">
        <dc:Bounds height="56.0" width="56.0" x="1714.0" y="603.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__16896F13-C509-4B1F-8C32-A30AE51623B0" bpmnElement="_16896F13-C509-4B1F-8C32-A30AE51623B0">
        <dc:Bounds height="56.0" width="56.0" x="464.0" y="224.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE" bpmnElement="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE">
        <dc:Bounds height="102.0" width="154.0" x="777.0" y="338.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__16896F13-C509-4B1F-8C32-A30AE51623B0_to_shape__1DC0616D-FAF3-48BD-89FD-C80B9FC061D9" bpmnElement="_5CB56892-9F5B-4C1A-A195-39BEE2FD7E19">
        <di:waypoint xsi:type="dc:Point" x="492.0" y="224.0"/>
        <di:waypoint xsi:type="dc:Point" x="492.0" y="186.0"/>
        <di:waypoint xsi:type="dc:Point" x="492.0" y="186.0"/>
        <di:waypoint xsi:type="dc:Point" x="492.0" y="186.0"/>
        <di:waypoint xsi:type="dc:Point" x="492.0" y="83.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__1DC0616D-FAF3-48BD-89FD-C80B9FC061D9_to_shape__BB60150A-B524-45C8-AEA3-E32322B96A60" bpmnElement="_ADE23ED9-ABF5-42DE-8369-417BFB70C30E">
        <di:waypoint xsi:type="dc:Point" x="492.0" y="83.0"/>
        <di:waypoint xsi:type="dc:Point" x="645.0" y="83.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__3DF74245-C929-4F7F-97BA-B8422177233C_to_shape__0056CD9A-2489-44E5-B0B8-8CBDC0D1CB42" bpmnElement="_F174CF17-7B14-49A0-AE98-44035D3B3BC1">
        <di:waypoint xsi:type="dc:Point" x="1892.0" y="83.0"/>
        <di:waypoint xsi:type="dc:Point" x="2105.0" y="83.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__E7A646A4-C155-47FF-A58E-DE6D6A085EBD_to_shape__DBC4F02C-D254-48E7-BB69-C8793B5ED77D" bpmnElement="_757BBEEA-83BF-4FDB-9A24-E400FC991A99">
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="229.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="437.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__DBC4F02C-D254-48E7-BB69-C8793B5ED77D_to_shape__A1ED9FC1-AB69-47C6-AF0B-273BC2ADB1EB" bpmnElement="_76C4A500-48A3-4A20-9B92-46B0FF610237">
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="437.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="585.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="603.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__DBC4F02C-D254-48E7-BB69-C8793B5ED77D_to_shape__5A96657D-AECD-4912-9E52-751114C4FDF5" bpmnElement="_4376D701-706B-4A5A-9DB4-1F94C9B3A6AA">
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="437.0"/>
        <di:waypoint xsi:type="dc:Point" x="1636.0" y="437.1026"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__354F51B2-3995-4433-B0B2-2EF67B17D1BE_to_shape__60C78ACF-B5FE-44F3-9D59-3EC266ED107D" bpmnElement="_109932E1-4219-43E4-953D-9C0528F97C62">
        <di:waypoint xsi:type="dc:Point" x="1372.0" y="437.0"/>
        <di:waypoint xsi:type="dc:Point" x="1313.0" y="437.0"/>
        <di:waypoint xsi:type="dc:Point" x="1207.0" y="409.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__60C78ACF-B5FE-44F3-9D59-3EC266ED107D_to_shape__1C9F2010-9109-4060-A7D4-CCAF6B111792" bpmnElement="_680B7335-8A50-456D-82B8-53B0E5D8FD36">
        <di:waypoint xsi:type="dc:Point" x="1207.0" y="437.0"/>
        <di:waypoint xsi:type="dc:Point" x="1208.0" y="563.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__60C78ACF-B5FE-44F3-9D59-3EC266ED107D_to_shape__93593817-D3D6-48F9-B062-B59C802715AA" bpmnElement="_B135DE9B-6977-4A9C-B382-071B8EBDB196">
        <di:waypoint xsi:type="dc:Point" x="1207.0" y="437.0"/>
        <di:waypoint xsi:type="dc:Point" x="1055.0" y="437.0"/>
        <di:waypoint xsi:type="dc:Point" x="1055.0" y="257.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__BB60150A-B524-45C8-AEA3-E32322B96A60_to_shape__93593817-D3D6-48F9-B062-B59C802715AA" bpmnElement="_59452036-2EA8-414C-8B94-C53483323374">
        <di:waypoint xsi:type="dc:Point" x="701.0" y="83.0"/>
        <di:waypoint xsi:type="dc:Point" x="808.0" y="83.0"/>
        <di:waypoint xsi:type="dc:Point" x="1055.0" y="83.0"/>
        <di:waypoint xsi:type="dc:Point" x="1055.0" y="172.0"/>
        <di:waypoint xsi:type="dc:Point" x="1055.0" y="201.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__BB60150A-B524-45C8-AEA3-E32322B96A60_to_shape__3CD9910C-CF3B-4AEF-AB08-F51EA9978199" bpmnElement="_A51EB380-F0FF-408C-9851-7CC2E606B0B4">
        <di:waypoint xsi:type="dc:Point" x="673.0" y="83.0"/>
        <di:waypoint xsi:type="dc:Point" x="673.0" y="173.0"/>
        <di:waypoint xsi:type="dc:Point" x="673.0" y="173.0"/>
        <di:waypoint xsi:type="dc:Point" x="673.0" y="361.0"/>
        <di:waypoint xsi:type="dc:Point" x="673.0" y="361.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__A39CDE0D-BBDE-4FF4-BF7E-3E65CFE9392D_to_shape__AA7CA6CD-46C3-413B-A09B-9493E177C534" bpmnElement="_29C43B01-A501-4BB7-B239-BB775FAE731E">
        <di:waypoint xsi:type="dc:Point" x="2073.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="2266.0" y="389.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__16896F13-C509-4B1F-8C32-A30AE51623B0_to_shape__3CD9910C-CF3B-4AEF-AB08-F51EA9978199" bpmnElement="_D4419464-49DA-4745-8328-CC6BB604D206">
        <di:waypoint xsi:type="dc:Point" x="492.0" y="280.0"/>
        <di:waypoint xsi:type="dc:Point" x="492.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="492.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="490.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="490.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="490.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="490.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="490.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="645.0" y="389.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__3CD9910C-CF3B-4AEF-AB08-F51EA9978199_to_shape__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE" bpmnElement="_99E8C1B1-5770-43BF-9DAA-300C24696F3A">
        <di:waypoint xsi:type="dc:Point" x="673.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="777.0" y="389.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__5A96657D-AECD-4912-9E52-751114C4FDF5_to_shape__354F51B2-3995-4433-B0B2-2EF67B17D1BE" bpmnElement="_E4062EED-EC55-4E33-8476-C7AD6A885853">
        <di:waypoint xsi:type="dc:Point" x="1608.0" y="437.1026"/>
        <di:waypoint xsi:type="dc:Point" x="1526.0" y="437.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__93593817-D3D6-48F9-B062-B59C802715AA_to_shape__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA" bpmnElement="_099BF8D1-9C99-4589-86B4-5D82D47F85DD">
        <di:waypoint xsi:type="dc:Point" x="1055.0" y="229.0"/>
        <di:waypoint xsi:type="dc:Point" x="1198.0" y="229.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA_to_shape__E7A646A4-C155-47FF-A58E-DE6D6A085EBD" bpmnElement="_AA48F45F-1583-4B19-9D49-EA3B8BDD7004">
        <di:waypoint xsi:type="dc:Point" x="1352.0" y="229.0"/>
        <di:waypoint xsi:type="dc:Point" x="1714.0" y="229.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__1C9F2010-9109-4060-A7D4-CCAF6B111792_to_shape__ED1C25EC-C6D6-41CB-A7E8-44DDA9F0D23C" bpmnElement="_888EA571-4C64-4F9D-9D6E-B2BA293A88EC">
        <di:waypoint xsi:type="dc:Point" x="1208.0" y="614.0"/>
        <di:waypoint xsi:type="dc:Point" x="1207.0" y="740.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__ED1C25EC-C6D6-41CB-A7E8-44DDA9F0D23C_to_shape__93593817-D3D6-48F9-B062-B59C802715AA" bpmnElement="_59C85C54-8803-422A-A354-C977EC65D5E4">
        <di:waypoint xsi:type="dc:Point" x="1207.0" y="791.0"/>
        <di:waypoint xsi:type="dc:Point" x="1055.0" y="791.00336"/>
        <di:waypoint xsi:type="dc:Point" x="1055.0" y="257.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__B4D7B7C4-9E5F-4E45-B684-2C6854375FBE_to_shape__93593817-D3D6-48F9-B062-B59C802715AA" bpmnElement="_8E6B8D9E-D0A0-434F-981B-CA82436470BB">
        <di:waypoint xsi:type="dc:Point" x="854.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="962.0" y="389.0"/>
        <di:waypoint xsi:type="dc:Point" x="962.0" y="229.0"/>
        <di:waypoint xsi:type="dc:Point" x="1027.0" y="229.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__E7A646A4-C155-47FF-A58E-DE6D6A085EBD_to_shape__3DF74245-C929-4F7F-97BA-B8422177233C" bpmnElement="_EF7F2BCB-517F-4CC5-BA71-B570F15C9450">
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="201.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="147.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="145.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="130.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="82.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="82.0"/>
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="82.0"/>
        <di:waypoint xsi:type="dc:Point" x="1892.0" y="83.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__F19827B4-3027-407C-9748-7B82997CC616_to_shape__1FCFB141-1A38-4674-8041-DAE6F10CB132" bpmnElement="_D9058452-9D9E-4337-866E-67632DD43D80">
        <di:waypoint xsi:type="dc:Point" x="86.0" y="252.0"/>
        <di:waypoint xsi:type="dc:Point" x="207.0" y="252.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__E7A646A4-C155-47FF-A58E-DE6D6A085EBD_to_shape__A39CDE0D-BBDE-4FF4-BF7E-3E65CFE9392D" bpmnElement="_39584797-DFA4-4F5E-9AE2-48C8A9356622">
        <di:waypoint xsi:type="dc:Point" x="1742.0" y="229.0"/>
        <di:waypoint xsi:type="dc:Point" x="2073.0" y="229.0"/>
        <di:waypoint xsi:type="dc:Point" x="2073.0" y="338.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__1FCFB141-1A38-4674-8041-DAE6F10CB132_to_shape__16896F13-C509-4B1F-8C32-A30AE51623B0" bpmnElement="_69C43F66-9A1B-41DF-A48F-8C85265D24CA">
        <di:waypoint xsi:type="dc:Point" x="284.0" y="252.0"/>
        <di:waypoint xsi:type="dc:Point" x="464.0" y="252.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship id="__9-toMKYEe2Lq6_fSgBPtA" type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario xsi:type="bpsim:Scenario" id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters xsi:type="bpsim:ScenarioParameters"/>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_1DC0616D-FAF3-48BD-89FD-C80B9FC061D9" id="__9_UsMKYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_354F51B2-3995-4433-B0B2-2EF67B17D1BE" id="__9_UscKYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_60F9D3D6-6DF8-4D44-AD8C-BBCEC8F487DA" id="__9_UssKYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_ED1C25EC-C6D6-41CB-A7E8-44DDA9F0D23C" id="__9_Us8KYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_3DF74245-C929-4F7F-97BA-B8422177233C" id="__9_UtMKYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_F19827B4-3027-407C-9748-7B82997CC616" id="__9_UtcKYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_A39CDE0D-BBDE-4FF4-BF7E-3E65CFE9392D" id="__9_UtsKYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_1FCFB141-1A38-4674-8041-DAE6F10CB132" id="__9_Ut8KYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_1C9F2010-9109-4060-A7D4-CCAF6B111792" id="__9_UuMKYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_B4D7B7C4-9E5F-4E45-B684-2C6854375FBE" id="__9_UucKYEe2Lq6_fSgBPtA">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>__97DQMKYEe2Lq6_fSgBPtA</bpmn2:source>
    <bpmn2:target>__97DQMKYEe2Lq6_fSgBPtA</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>
